# 매도횟수 계산 간소화

## 발견 시간
2025-08-27

## 문제 상황
매도 횟수가 저장된 히스토리에서 제대로 표시되지 않는 문제 발견.
복잡한 매도 유형별 필터링 로직 사용 중.

## 기존 코드 문제점
```python
매도횟수 = len([t for t in 거래내역 if t[0] in ['절반매도', '전량매도', '최종매도', '수익매도', '고무줄매도', '트레일링스탑']])
```
- 매도 유형을 일일이 나열해야 함
- 새로운 매도 유형 추가시 누락 위험
- 계산 성능 저하

## 해결 방법

### 간소화된 계산 로직
```python
매수횟수 = len([t for t in 거래내역 if t[0] == '매수'])
손절횟수 = len([t for t in 거래내역 if t[0] == '손절'])
매도횟수 = len(거래내역) - 매수횟수 - 손절횟수
```

### 수정된 위치
- 라인 2123-2125: 5사이클 히스토리 저장 함수
- 라인 2184-2186: 전략 히스토리 저장 함수  
- 라인 2232-2234: 히스토리 분석 출력 함수

### 순서 수정
매도횟수 계산을 위해 손절횟수를 먼저 계산하도록 순서 변경.

## 결과
- 계산 로직 간소화
- 성능 향상 (필터링 연산 1회 → 간단한 뺄셈)
- 유지보수성 향상 (매도 유형별 관리 불필요)
- 확신도: 99%

## 교훈
복잡한 분류보다 전체에서 알려진 부분을 빼는 방식이 더 안정적.